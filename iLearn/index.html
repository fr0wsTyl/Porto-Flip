<!doctype html>

<head>
    <meta charset="utf-8">
    <title>My Parse App</title>
    <meta name="description" content="learning system">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="css/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="css/bootstrap/bootflat.min.css">
    <script type="text/javascript" src="scripts/libs/jquery-2.1.4.min.js"></script>
    <script type="text/javascript" src="http://www.parsecdn.com/js/parse-1.5.0.min.js"></script>
</head>

<body>
    <div id="main">
        <input type="text" id="username-login-value" placeholder="Enter username:">
        <input type="text" id="password-login-value" placeholder="Enter password:">
        <button id="sign-in-button" class="btn btn-success">Sign in</button>
    </div>
    <script type="text/javascript">
    Parse.initialize("OxNzrzXTEVzRxH9qHpel84j4dD8QJs4aFUbmrWYc", "BkkvpNtIeTo6urCE4WzLnFP3M4SaONZ2rzO6MP4r");

    // $('#register-btn').on('click', function() {
    //     var usernameValue = $('#username-value').val();
    //     var TestObject = Parse.Object.extend("User");
    //     var testObject = new TestObject();
    //     testObject.save({
    //         username: usernameValue,
    //         password: "pass",
    //         ID: "234567asd8"
    //     }, {
    //         success: function(object) {
    //             $(".success").show();
    //         },
    //         error: function(model, error) {
    //             $(".error").show();
    //         }
    //     });
    // })

    $('#sign-in-button').on('click', function() {
        var $usernameValue = $('#username-login-value').val();
        var $passwordValue = $('#password-login-value').val();

        var Teacher = Parse.Object.extend("User");
        var teacher = new Teacher();
        teacher.set('name', 111);
        teacher.save(null, {
            success: function() {
                // body...
            },
            error: function() {
                // body...
            }
        });

        Parse.User.logIn($usernameValue, $passwordValue, {
            success: function(user) {
                console.log("yess");
                console.log(user);
                // Do stuff after successful login.
            },
            error: function(user, error) {
                console.log("noo");
                // The login failed. Check error to see why.
            }
        });


        // // query.equalTo('User', {
        // //     'username': $usernameValue
        // // });
        // //query.equalTo('username', $usernameValue);

        // Parse.User.logIn($usernameValue, $passwordValue, {
        //     success: function(user) {
        //         // body...
        //     },
        //     error: function(user,err) {
        //         console.log(err);
        //     }
        // })

        // query.equalTo('ID', '2345678');
        // query.find({
        //     success: function(results) {
        //         console.log(results);
        //         if (results.length === 0) {
        //             alert('Invalid username or password');
        //         } else {
        //             alert('You are logged in now');
        //         }
        //     },
        //     error: function(error) {
        //         alert('something happened');
        //     }
        // });
    })
    </script>
</body>

</html>
